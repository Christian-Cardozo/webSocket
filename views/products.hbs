{{> navbar}}

<div class="container">
    <hr>
</div>

<div class="container">
    <div class="row">
        <h1>Formulario de producto</h1>
    </div>
    <div class="row">
        <form {{!-- action="/productos" method="post" --}} id="nuevoProducto" onsubmit="return addProduct(this)">
            <div class="mb-3">
                <label for="title" class="form-label">Titulo</label>
                <input type="text" name="title" class="form-control" id="title" aria-describedby="title">
            </div>
            <div class="mb-3">
                <label for="price" class="form-label">Precio</label>
                <input type="text" name="price" class="form-control" id="price">
            </div>
            <div class="mb-3">
                <label for="thumbnail" class="form-label">Imagen</label>
                <input type="text" name="thumbnail" class="form-control" id="thumbnail">
            </div>
            <input type="submit" class="btn btn-primary" value="Guardar"></button>
        </form>
    </div>

</div>

<div class="container" style="height:400px;overflow:auto; margin-top:20px ">
    <div class="row">
        <h1>Lista de productos</h1>
    </div>
    <div class="row">
        <table class="table" id='products'>
            <thead>
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Title</th>
                    <th scope="col">Price</th>
                    <th scope="col">thumbnail</th>
                </tr>
            </thead>
            <tbody>
                {{#if listExists}}
                {{#each products}}
                <tr>
                    <th scope="row">{{this.id}}</th>
                    <td>{{this.title}}</td>
                    <td>${{this.price}}</td>
                    <td><img src={{this.thumbnail}} style="height: 50px; width: 50px;"></td>
                </tr>
                {{/each}}
                {{/if}}
            </tbody>
        </table>
    </div>
</div>

<div class="container" style="margin-top:20px; margin-bottom: 20px">
    <div class="row">
        <h1>Centro de mensajes</h1>
        <div id="mensajes" style="height:300px;overflow:auto; background:rgb(180, 178, 178)">
            {{#if messageExists}}
            {{#each messages}}
            <div>
            <strong style="color:blue">{{this.email}}</strong>
            <span style="color:brown">[{{this.date}}]: </span>
            <span style="color:green; font: italic">{{this.text}}</span>
            </div>
            {{/each}}
            {{/if}}
        </div>
    </div>
</div>

<div class="container" style="margin-top:20px; margin-bottom: 20px">
    <div class="row">
        <form id="centroMensajes" onsubmit="return addMessage(this)">
            <div class="mb-3">
                <input type="text" name="email" class="form-control" id="email" aria-describedby="email"
                    placeholder="tuEmail@dominio.com">
            </div>
            <div class="mb-3">
                <input type="text" name="mensaje" class="form-control" id="message" placeholder="Escribe tu mensaje...">
            </div>
            <input type="submit" class="btn btn-primary" value="Enviar"></button>
        </form>
    </div>

</div>